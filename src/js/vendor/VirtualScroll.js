var VirtualScroll=function(e){var t,n,o,a,l={},i=[],r=!1,d=2,s=15,u=120,c=1,v="onwheel"in e,h="onmousewheel"in e,w="ontouchstart"in e,m=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,f=!!window.navigator.msPointerEnabled,g="onkeydown"in e,E=navigator.userAgent.indexOf("Firefox")>-1,X={y:0,x:0,deltaX:0,deltaY:0,originalEvent:null};l.on=function(e){r||T(),i.push(e),t=i.length},l.options=function(e){u=e.keyStep||120,s=e.firefoxMult||15,d=e.touchMult||2,c=e.mouseMult||1},l.off=function(e){i.splice(e,1),(t=i.length)<=0&&k()};var Y=function(e){X.x+=X.deltaX,X.y+=X.deltaY,X.originalEvent=e;for(var n=0;n<t;n++)i[n](X)},L=function(e){X.deltaX=e.wheelDeltaX||-1*e.deltaX,X.deltaY=e.wheelDeltaY||-1*e.deltaY,E&&1==e.deltaMode&&(X.deltaX*=s,X.deltaY*=s),X.deltaX*=c,X.deltaY*=c,Y(e)},y=function(e){X.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,X.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,Y(e)},M=function(e){var t=e.targetTouches?e.targetTouches[0]:e;n=t.pageX,o=t.pageY},p=function(e){var t=e.targetTouches?e.targetTouches[0]:e;X.deltaX=(t.pageX-n)*d,X.deltaY=(t.pageY-o)*d,n=t.pageX,o=t.pageY,Y(e)},D=function(e){switch(X.deltaX=X.deltaY=0,e.keyCode){case 37:X.deltaX=-u;break;case 39:X.deltaX=u;break;case 38:X.deltaY=u;break;case 40:X.deltaY=-u}Y(e)},T=function(){v&&e.addEventListener("wheel",L),h&&e.addEventListener("mousewheel",y),w&&(e.addEventListener("touchstart",M),e.addEventListener("touchmove",p)),f&&m&&(a=e.body.style.msTouchAction,e.body.style.msTouchAction="none",e.addEventListener("MSPointerDown",M,!0),e.addEventListener("MSPointerMove",p,!0)),g&&e.addEventListener("keydown",D),r=!0},k=function(){v&&e.removeEventListener("wheel",L),h&&e.removeEventListener("mousewheel",y),w&&(e.removeEventListener("touchstart",M),e.removeEventListener("touchmove",p)),f&&m&&(e.body.style.msTouchAction=a,e.removeEventListener("MSPointerDown",M,!0),e.removeEventListener("MSPointerMove",p,!0)),g&&e.removeEventListener("keydown",D),r=!1};return l}(document);